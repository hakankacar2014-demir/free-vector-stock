<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Vector Stock</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; text-align: center; margin: 0; padding: 20px; }
        .search-container { margin: 30px auto; max-width: 600px; }
        #searchInput { width: 100%; padding: 15px; border-radius: 30px; border: 2px solid #333; background: #111; color: #fff; outline: none; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 25px; max-width: 1300px; margin: 0 auto; }
        .card { background: #0a0a0a; border: 1px solid #1a1a1a; padding: 15px; border-radius: 12px; transition: 0.3s; }
        .card:hover { border-color: #f39c12; }
        .img-box { width: 100%; height: 180px; background: #050505; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden; margin-bottom: 15px; }
        .img-box img { max-width: 100%; max-height: 100%; object-fit: contain; }
        .card-title { color: #f39c12; font-size: 12px; font-weight: bold; margin-bottom: 15px; text-transform: uppercase; }
        .btn { background: #f39c12; color: #000; padding: 12px; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; width: 100%; }
    </style>
</head>
<body>
    <h1 style="color:#f39c12">FREE VECTOR STOCK</h1>
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search designs..." onkeyup="search()">
    </div>
    <div id="gallery" class="gallery">Loading...</div>

    <script>
        const OWNER = 'free-vector-stock';
        const REPO = 'free-vector-stock';
        let allData = [];

        async function init() {
            try {
                const r = await fetch('vectors.json?v=' + Date.now());
                allData = await r.json();
                allData.reverse();
                render(allData);
            } catch (e) { document.getElementById('gallery').innerText = "Database Error!"; }
        }

        function render(items) {
            const gal = document.getElementById('gallery');
            gal.innerHTML = '';
            items.forEach(name => {
                const encName = encodeURIComponent(name);
                const imgPath = `https://cdn.jsdelivr.net/gh/${OWNER}/${REPO}/vectors/${encName}/${encName}.jpg`;
                const epsPath = `https://raw.githubusercontent.com/${OWNER}/${REPO}/main/vectors/${encName}/${encName}.eps`;

                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="img-box">
                        <img src="${imgPath}" onerror="this.src='https://via.placeholder.com/300x200/111/f39c12?text=Loading...'">
                    </div>
                    <div class="card-title">${name.replace(/-/g, ' ')}</div>
                    <button class="btn" onclick="download('${epsPath}', '${name}.eps')">DOWNLOAD EPS</button>
                `;
                gal.appendChild(card);
            });
        }

        function search() {
            const q = document.getElementById('searchInput').value.toLowerCase();
            const filtered = allData.filter(n => n.toLowerCase().includes(q));
            render(filtered);
        }

        async function download(url, name) {
            const r = await fetch(url);
            const b = await r.blob();
            const a = document.createElement('a');
            a.href = URL.createObjectURL(b);
            a.download = name;
            a.click();
        }
        init();
    </script>
</body>
</html>
